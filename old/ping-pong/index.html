<!DOCTYPE html>
<html>
<head>
    <title>Ping Pong</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta http-equiv="Content-type" content="text/html; charset=utf-8"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="../common.css" />
    <style>
        @media (min-width: 768px) {
            .mobile-screen {
                display: none;
            }
            html, body {
                background-color: #222;
            }

        }          
        @media (max-width: 767px) {
            .game {
                display: none;
            }
        }
    </style>
</head> 
<body>

    <div id="image-loader"></div>

    <div class="main" id="main">
        <section class="wrapper" oncontextmenu="return false">
            <div class="mobile-screen" id="mobile-error"></div>
            <section class="game">

                <div class="container" id="main_div" style="display: none;">
                    <canvas id="canvas"width="600" height="400" ></canvas>
                    <div class="button">
                        <button id="start-btn" class="btn btn-primary">Start</button>
                        <button id="pause-btn" class="btn btn-secondary">Pause</button>
                        <button id="restart-btn" class="btn btn-danger">Restart</button>
                    </div>
                    <p class="control">Control: Player Left(W and S) | Player Right(&uarr; and &darr;)</p>
                </div>

                <div class="modal" tabindex="-1" role="dialog" id="message-modal">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-body">
                                <h5 id="message"></h5>
                            </div>
                            <div class="modal-footer">
                                <button type="button" id="message-modal-close" class="btn btn-secondary" data-dismiss="modal">Close</button>
                            </div>
                        </div>
                    </div>
                </div>

            </section>
        </section>
    </div>


    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
    <script src="script.js"></script>
    <script>
        fetch('../splash.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('image-loader').innerHTML = data;
                document.getElementById('mobile-error').style.display = 'none';
        });

        fetch('../mobile.html')
        .then(response => response.text())
        .then(data => {
            document.getElementById('mobile-error').innerHTML = data;
        });

        setTimeout(() => {
            document.getElementById('image-loader').style.display = 'none';
            document.getElementById('mobile-error').style.display = '';
            document.getElementById('main_div').style.display = '';
            tick();
        }, 3000); // Changed to 10000 ms (10 seconds)
    </script>
</body>
</html>
